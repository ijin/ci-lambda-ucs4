machine:
  python:
    version: 2.7.10

dependencies:
  pre:
    - pip install lamvery
    - python -c 'import sys; print sys.maxunicode'
test:
  override:
    - echo 'test'

deployment:
  master:
    branch: master
    commands:
      - |
        pip install paramiko -t .
        lamvery deploy
  dev:
    branch: develop
    commands:
      - |
        deactivate
        git clone https://github.com/s1341/pyenv-alias.git ~/.pyenv/plugins/python-alias
        VERSION_ALIAS="2.7.10_ucs4" PYTHON_CONFIGURE_OPTS="--enable-unicode=ucs4" pyenv install 2.7.10
        pyenv shell 2.7.10_ucs4
        pyenv rehash
        pyenv version
        pip install virtualenv
        virtualenv ~/virtualenvs/venv-2.7.10_ucs4
        . ~/virtualenvs/venv-2.7.10_ucs4/bin/activate
        python -V
        python -c 'import sys; print sys.maxunicode'

        pip install lamvery -t .
        pip install paramiko -t .
        lamvery deploy
